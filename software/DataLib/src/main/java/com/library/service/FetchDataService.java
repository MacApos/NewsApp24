package com.library.service;

import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.library.dto.City;
import reactor.core.publisher.Mono;

import java.net.URI;
import java.net.URISyntaxException;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse;
import java.time.LocalDateTime;
import java.util.HashMap;
import java.util.LinkedHashMap;
import java.util.Map;
import java.util.stream.Collectors;

public class FetchDataService {
    public static final String NEWS_HOST = "api.bing.microsoft.com";
    public static final String NEWS_PATH = "/v7.0/news/search";
    public static final String NEWS_API_KEY = "8e2f7c044ad64823a57d4dc62d6a10d5";
    public static final HashMap<String, String> NEWS_API_URI_PARAMS = new HashMap<>(Map.of("count", "20",
            "mkt", "en-US",
            "setLang", "en",
            "sortBy", "date",
            "originalImg", "true"));
    public static final HashMap<String, String> NEWS_API_URI_HEADERS = new HashMap<>(Map.of("Ocp-Apim-Subscription-Key", NEWS_API_KEY));
    public static final HttpClient httpClient = HttpClient.newBuilder().build();
    public static final ObjectMapper objectMapper = new ObjectMapper();

    public FetchDataService() {
    }

    public HttpRequest prepareRequest(String host, String path, Map<String, String> params,
                                      Map<String, String> headers) {
        String query = "";
        if (params != null) {
            query = params.entrySet().stream()
                    .map(e -> String.format("%s=%s", e.getKey(), e.getValue()))
                    .collect(Collectors.joining("&"));
        }
        URI uri;
        try {
            uri = new URI("https", null, host, -1, path, query, null);
        } catch (URISyntaxException e) {
            throw new IllegalArgumentException(e.getMessage(), e);
        }

        HttpRequest.Builder httpRequestBuilder = HttpRequest.newBuilder().uri(uri);
        if (headers != null) {
            headers.forEach(httpRequestBuilder::header);
        }
        return httpRequestBuilder.build();
    }

    public Mono<City> prepareResponse(String host, String path, Map<String, String> params,
                                      Map<String, String> headers, String mockJson) {
        HttpRequest request = prepareRequest(host, path, params, headers);
        Mono<City> cityMono = Mono.fromFuture(httpClient.sendAsync(request, HttpResponse.BodyHandlers.ofString()))
                .map(HttpResponse::body)
                .handle((body, sink) -> {
                    City city;
                    try {
                        city = objectMapper.readValue(body, City.class);
                    } catch (JsonProcessingException ex) {
                        sink.error(new RuntimeException(ex));
                        return;
                    }
                    city.setDateUpdated(String.valueOf(LocalDateTime.now()));
                    sink.next(city);
                });
//        City city;
//        try {
//            city = objectMapper.readValue(mockJson, City.class);
//        } catch (JsonProcessingException e) {
//            throw new RuntimeException(e);
//        }
//        cityMono = Mono.just(city);
        return cityMono;
    }

    public Mono<City> fetchCity(String param) {
        LinkedHashMap<String, String> qParam = new LinkedHashMap<>(Map.of("q", param));
        qParam.putAll(NEWS_API_URI_PARAMS);
        String mockNews = "{\"_type\": \"News\", \"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/news\\/search?q=hemingford%2cne&setLang=en\", \"queryContext\": {\"originalQuery\": \"hemingford,ne\", \"adultIntent\": false}, \"totalEstimatedMatches\": 110, \"sort\": [{\"name\": \"Best match\", \"id\": \"relevance\", \"isSelected\": false, \"url\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/news\\/search?q=hemingford%2cne&setLang=en&setLang=en\"}, {\"name\": \"Most recent\", \"id\": \"date\", \"isSelected\": true, \"url\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/news\\/search?q=hemingford%2cne&setLang=en&sortby=date&setLang=en\"}], \"value\": [{\"name\": \"Hemingford Ledger briefs for the week of August 15:\", \"url\": \"https:\\/\\/starherald.com\\/news\\/community\\/hemingford\\/hemingford-ledger-briefs-for-the-week-of-august-15\\/article_4e3168b0-59b8-11ef-bf61-93fce997e4ef.html\", \"image\": {\"contentUrl\": \"https:\\/\\/bloximages.chicago2.vip.townnews.com\\/starherald.com\\/content\\/tncms\\/assets\\/v3\\/editorial\\/8\\/f8\\/8f823724-3819-11ef-a116-1f4ca6520ce9\\/668363c675233.image.jpg?crop=1440%2C756%2C0%2C162&resize=1200%2C630&order=crop%2Cresize\", \"thumbnail\": {\"contentUrl\": \"https:\\/\\/www.bing.com\\/th?id=OVFT.pnd30uKAsKcCoxBTABg-Qy&pid=News\", \"width\": 700, \"height\": 367}}, \"description\": \"The Hemingford Booster Club supports extra-curricular activities for students in grades 7-12 as well as all Bobcat Students. Your $25 membership help to provide apparel and welcom\", \"about\": [{\"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/entities\\/7efde1f9-a55a-84c1-5398-afc0bc006b63?setLang=en\", \"name\": \"Hemingford, Nebraska\"}, {\"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/entities\\/8ede5671-fd99-b64b-674b-bd8430a3a2e6?setLang=en\", \"name\": \"Box Butte County, Nebraska\"}, {\"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/entities\\/74c64091-021e-bdd4-cd25-7203ced64d16?setLang=en\", \"name\": \"Keith Reid\"}, {\"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/entities\\/08f73eef-3ed2-bd9a-51c9-3f6ee5ddadb5?setLang=en\", \"name\": \"Hula hoop\"}, {\"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/entities\\/5a5b104e-b9ec-0fc8-8c73-a6de82b75e68?setLang=en\", \"name\": \"Bobcat Company\"}], \"provider\": [{\"_type\": \"Organization\", \"name\": \"starherald.com\", \"image\": {\"thumbnail\": {\"contentUrl\": \"https:\\/\\/www.bing.com\\/th?id=ODF.2Q79YbVWmjzzTy84sy5JYg&pid=news\"}}}], \"datePublished\": \"2024-08-15T15:01:00.0000000Z\"}, {\"name\": \"Hemingford Playground Fundraiser Match Exceeded\", \"url\": \"https:\\/\\/alliancetimes.com\\/hemingford-playground-fundraiser-match-exceeded\\/\", \"image\": {\"contentUrl\": \"https:\\/\\/alliancetimes.com\\/wp-content\\/uploads\\/2024\\/08\\/A1-BBHF-Foundation-Kids-Playground-Advisory-Committee.jpg\", \"thumbnail\": {\"contentUrl\": \"https:\\/\\/www.bing.com\\/th?id=OVFT.HVs6Pdv8MTug0P25relpMy&pid=News\", \"width\": 700, \"height\": 456}}, \"description\": \"The Hemingford Community Foundation is thrilled to announce that the community challenge to match $25,000 for the new playground has been surpassed! This incredible\", \"about\": [{\"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/entities\\/8ede5671-fd99-b64b-674b-bd8430a3a2e6?setLang=en\", \"name\": \"Box Butte County, Nebraska\"}, {\"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/entities\\/7efde1f9-a55a-84c1-5398-afc0bc006b63?setLang=en\", \"name\": \"Hemingford, Nebraska\"}], \"provider\": [{\"_type\": \"Organization\", \"name\": \"Alliance Times Herald\", \"image\": {\"thumbnail\": {\"contentUrl\": \"https:\\/\\/www.bing.com\\/th?id=ODF.dEA8jR03bOd31-4bW32HTg&pid=news\"}}}], \"datePublished\": \"2024-08-14T07:06:00.0000000Z\"}, {\"name\": \"Getting Ahead: Stuff the Bus - School Supplies\", \"url\": \"https:\\/\\/starherald.com\\/news\\/community\\/hemingford\\/getting-ahead-stuff-the-bus---school-supplies\\/article_fbd4b8e6-59ae-11ef-aa0f-e3a991c8878c.html\", \"image\": {\"contentUrl\": \"https:\\/\\/bloximages.chicago2.vip.townnews.com\\/starherald.com\\/content\\/tncms\\/assets\\/v3\\/editorial\\/e\\/9d\\/e9dbdf20-0933-11ed-84e6-c7e8798e33fa\\/62d9b750f0938.image.jpg?crop=1762%2C928%2C0%2C123&resize=1200%2C632&order=crop%2Cresize\", \"thumbnail\": {\"contentUrl\": \"https:\\/\\/www.bing.com\\/th?id=OVFT.CHvt1OSDgB7Sdzf2OgtAnS&pid=News\", \"width\": 700, \"height\": 368}}, \"description\": \"You may have seen the big white school bus parked at Viaero in Alliance last week. Obviously it wasn’t there to pick up kids for school. So what was happening?\", \"about\": [{\"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/entities\\/6db1c200-0859-ff1f-c200-63befddb1f2b?setLang=en\", \"name\": \"Emerson High School\"}], \"provider\": [{\"_type\": \"Organization\", \"name\": \"starherald.com\", \"image\": {\"thumbnail\": {\"contentUrl\": \"https:\\/\\/www.bing.com\\/th?id=ODF.2Q79YbVWmjzzTy84sy5JYg&pid=news\"}}}], \"datePublished\": \"2024-08-13T22:30:00.0000000Z\", \"video\": {\"name\": \"Getting Ahead:  Stuff the Bus - School Supplies\", \"thumbnailUrl\": \"https:\\/\\/www.bing.com\\/th?id=OVF.cDDGReVr%2FXLiW3ISBpOfXA&pid=News\", \"thumbnail\": {\"width\": 520, \"height\": 273}}}, {\"name\": \"Nebraska State Tax Guide\", \"url\": \"https:\\/\\/www.kiplinger.com\\/state-by-state-guide-taxes\\/nebraska\", \"description\": \"Nebraska state tax might not be the most appealing for homeowners. That's because property taxes in Nebraska are higher than the national average. The Cornhusker State also imposes a hefty ...\", \"provider\": [{\"_type\": \"Organization\", \"name\": \"Kiplinger\"}], \"datePublished\": \"2024-08-08T16:32:00.0000000Z\"}, {\"name\": \"Haystack Mountain wildfire burns 28,000 acres in eastern Wyoming\", \"url\": \"https:\\/\\/www.msn.com\\/en-us\\/weather\\/topstories\\/haystack-mountain-wildfire-burns-28000-acres-in-eastern-wyoming\\/ar-BB1r2LAY\", \"image\": {\"contentUrl\": \"https:\\/\\/img-s-msn-com.akamaized.net\\/tenant\\/amp\\/entityid\\/BB1r2O8Y.img?w=799&h=450&m=4&q=76\", \"thumbnail\": {\"contentUrl\": \"https:\\/\\/www.bing.com\\/th?id=OVFT.CwPkBEkMGWRGDgk6H2tBnC&pid=News\", \"width\": 700, \"height\": 394}}, \"description\": \"Residents affected by the Haystack Mountain fire near Fort Laramie have been allowed to return home as efforts continue to contain the fire. The fire, which reignited Tuesday and shut down parts of I-25 and Highway 26,\", \"about\": [{\"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/entities\\/f779b869-e985-29fd-fed9-5a00ae5a28a6?setLang=en\", \"name\": \"Fort Laramie, Wyoming\"}, {\"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/entities\\/7c382796-a9ce-e66c-accc-0b0b9d0eeac4?setLang=en\", \"name\": \"Japanese submarine I-25\"}, {\"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/entities\\/407303c3-644f-725f-2ec1-8cde9e397cc4?setLang=en\", \"name\": \"Gering, Nebraska\"}, {\"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/entities\\/b31f7c66-7242-fe04-e990-4845236fcbca?setLang=en\", \"name\": \"Morrill, Nebraska\"}, {\"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/entities\\/7efde1f9-a55a-84c1-5398-afc0bc006b63?setLang=en\", \"name\": \"Hemingford, Nebraska\"}, {\"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/entities\\/f22adf0e-1241-1667-3151-f09c3da0f72c?setLang=en\", \"name\": \"Western Nebraska Regional Airport\"}, {\"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/entities\\/e835f5c3-0389-8b6f-a15c-f32a249013fa?setLang=en\", \"name\": \"Platte County, Nebraska\"}, {\"readLink\": \"https:\\/\\/api.bing.microsoft.com\\/api\\/v7\\/entities\\/425943b6-0622-0c35-6f80-2d60a21835a6?setLang=en\", \"name\": \"Hartville, Wyoming\"}], \"mentions\": [{\"name\": \"Wyoming\"}, {\"name\": \"Scottsbluff\"}, {\"name\": \"North Platte\"}], \"provider\": [{\"_type\": \"Organization\", \"name\": \"North Platte KNOP-CD on MSN.com\", \"image\": {\"thumbnail\": {\"contentUrl\": \"https:\\/\\/www.bing.com\\/th?id=ODF.jXARchTk_K_GMylZ2M75iA&pid=news\"}}}], \"datePublished\": \"2024-08-01T19:30:49.0000000Z\", \"video\": {\"name\": \"Panhandle Round Up 08-01-24\", \"motionThumbnailUrl\": \"https:\\/\\/prod-streaming-video-msn-com.akamaized.net\\/8db58770-4eff-43f9-888d-a76cd3e36dfe\\/1128f7db-cef7-4f2f-b47a-8d7480b4_650.mp4\", \"thumbnail\": {\"width\": 640, \"height\": 360}}}, {\"name\": \"Alice May Tschacher Gerdes Obituary\", \"url\": \"https:\\/\\/alliancetimes.com\\/alice-may-tschacher-gerdes-obituary\\/\", \"image\": {\"contentUrl\": \"https:\\/\\/alliancetimes.com\\/wp-content\\/uploads\\/2024\\/07\\/A2-Gerdes-Web.jpg\", \"thumbnail\": {\"contentUrl\": \"https:\\/\\/www.bing.com\\/th?id=OVFT.sAH8XneW-Ec7Gph6nb2kdy&pid=News\", \"width\": 700, \"height\": 427}}, \"description\": \"Tschacher Gerdes, 94, left this earthly world for heaven to be united with the love of her life, Gene, on July 25th,\", \"provider\": [{\"_type\": \"Organization\", \"name\": \"Alliance Times Herald\", \"image\": {\"thumbnail\": {\"contentUrl\": \"https:\\/\\/www.bing.com\\/th?id=ODF.dEA8jR03bOd31-4bW32HTg&pid=news\"}}}], \"datePublished\": \"2024-07-31T07:02:00.0000000Z\"}, {\"name\": \"Nebraska May Strip Voting Rights From Thousands of People With Past Convictions\", \"url\": \"https:\\/\\/truthout.org\\/articles\\/nebraska-may-strip-voting-rights-from-thousands-of-people-with-past-convictions\\/\", \"description\": \"For thousands of people with past convictions in Nebraska, their right to vote is now in doubt. In an unprecedented move, the attorney general and secretary of state are attempting to nullify two laws enacted by the legislature that restored voting rights ...\", \"provider\": [{\"_type\": \"Organization\", \"name\": \"Truthout\"}], \"datePublished\": \"2024-07-28T00:00:00.0000000Z\"}, {\"name\": \"Nebraska Supreme Court upholds restrictions on abortion and gender affirming care\", \"url\": \"https:\\/\\/www.usatoday.com\\/story\\/news\\/politics\\/elections\\/2024\\/07\\/26\\/nebraska-abortion-gender-affirming-care-ban\\/74549469007\\/\", \"description\": \"LINCOLN - The Nebraska Supreme Court denied a challenge to the state’s abortion restrictions and gender-affirming care in a ruling released Friday morning. This decision by the court comes over ...\", \"provider\": [{\"_type\": \"Organization\", \"name\": \"USA Today\"}], \"datePublished\": \"2024-07-26T22:03:00.0000000Z\"}, {\"name\": \"Nebraska Supreme Court upholds law banning transgender care for youth and abortions\", \"url\": \"https:\\/\\/thehill.com\\/policy\\/healthcare\\/4794530-nebraska-supreme-court-upholds-law-banning-transgender-care-for-youth-and-abortions\\/\", \"description\": \"The Nebraska Supreme Court on Friday affirmed the state’s law banning gender-affirming care for minors and abortion after 12 weeks of pregnancy, ruling the two issues were legally allowed to be ...\", \"provider\": [{\"_type\": \"Organization\", \"name\": \"The Hill\"}], \"datePublished\": \"2024-07-26T17:12:00.0000000Z\"}, {\"name\": \"Nebraska Supreme Court upholds state’s 12-week abortion ban and transgender care restrictions\", \"url\": \"https:\\/\\/www.1011now.com\\/2024\\/07\\/26\\/nebraska-supreme-court-upholds-states-12-week-abortion-ban-transgender-care-restrictions\\/\", \"description\": \"LINCOLN, Neb. (KOLN) - The Nebraska Supreme Court ruled in favor of the state’s 12-week abortion ban and transgender care restrictions on Friday. A lawsuit brought by Planned Parenthood of the ...\", \"provider\": [{\"_type\": \"Organization\", \"name\": \"1011 Now\"}], \"datePublished\": \"2024-07-26T15:53:00.0000000Z\"}, {\"name\": \"Four inductions set for Dawes County Ag Hall of Fame\", \"url\": \"https:\\/\\/rapidcityjournal.com\\/news\\/community\\/chadron\\/four-inductions-set-for-dawes-county-ag-hall-of-fame\\/article_4bf4fec4-483b-11ef-868c-f3e68b47cfad.html\", \"description\": \"Hemingford, about 20 miles to the south ... It became Butler’s fourth location in Nebraska. “We know some people still refer to us as Henkens Implement, and have told us their family was ...\", \"provider\": [{\"_type\": \"Organization\", \"name\": \"Rapid City Journal\"}], \"datePublished\": \"2024-07-26T15:51:00.0000000Z\"}, {\"name\": \"Nebraska Supreme Court upholds law restricting both abortion and transgender youth medical care\", \"url\": \"https:\\/\\/www.pbs.org\\/newshour\\/politics\\/nebraska-supreme-court-upholds-law-restricting-both-abortion-and-transgender-youth-medical-care\", \"description\": \"OMAHA, Neb. (AP) — A Nebraska law that combined abortion restrictions with another measure to limit gender-affirming health care for minors does not violate a state constitutional amendment ...\", \"provider\": [{\"_type\": \"Organization\", \"name\": \"PBS\"}], \"datePublished\": \"2024-07-26T15:51:00.0000000Z\", \"category\": \"Politics\"}, {\"name\": \"Nebraska Supreme Court Upholds Law Restricting Both Medical Care for Transgender Youth and Abortion\", \"url\": \"https:\\/\\/www.usnews.com\\/news\\/best-states\\/nebraska\\/articles\\/2024-07-26\\/nebraska-supreme-court-upholds-law-restricting-both-medical-care-for-transgender-youth-and-abortion\", \"description\": \"Nebraska Supreme Court Upholds Law Restricting Both Medical Care for Transgender Youth and Abortion OMAHA, Neb. (AP) — A Nebraska law that combined abortion restrictions with another measure to ...\", \"provider\": [{\"_type\": \"Organization\", \"name\": \"U.S. News & World Report\"}], \"datePublished\": \"2024-07-26T09:38:00.0000000Z\"}, {\"name\": \"Nebraska Supreme Court upholds law restricting abortion and trans health care for minors\", \"url\": \"https:\\/\\/nebraskaexaminer.com\\/2024\\/07\\/26\\/nebraska-supreme-court-upholds-legislation-combining-abortion-and-trans-health-care-for-minors\\/\", \"description\": \"LINCOLN — The Nebraska Supreme Court on Friday protected the Legislature’s prerogative to decide which bills are related, allowing the last-minute combination of a stricter abortion ban and restrictions on the treatment options of trans minors.\", \"provider\": [{\"_type\": \"Organization\", \"name\": \"Nebraska Examiner\"}], \"datePublished\": \"2024-07-26T09:21:00.0000000Z\"}, {\"name\": \"Nebraska Supreme Court upholds law restricting both medical care for transgender youth and abortion\", \"url\": \"https:\\/\\/abcnews.go.com\\/US\\/wireStory\\/nebraska-supreme-court-upholds-law-restricting-medical-care-112302643\", \"description\": \"The Nebraska Supreme Court has upheld a law restricting access to both medical care for transgender youth and abortion OMAHA, Neb. -- A Nebraska law that combined abortion restrictions with ...\", \"provider\": [{\"_type\": \"Organization\", \"name\": \"ABC News\"}], \"datePublished\": \"2024-07-26T06:38:00.0000000Z\"}, {\"name\": \"The Rise and Fall of the Nebraska Football Dynasty-Part 5\", \"url\": \"https:\\/\\/www.si.com\\/college\\/nebraska\\/football\\/the-rise-and-fall-of-the-nebraska-football-dynasty-part-5-01j3k5bwwv00\", \"description\": \"Recalling the Huskers’ consistency through changing rules and styles begs the question of what happened to lead to Nebraska’s demise as a national power. What caused the Big Red Machine to ...\", \"provider\": [{\"_type\": \"Organization\", \"name\": \"Sports Illustrated\"}], \"datePublished\": \"2024-07-26T00:00:00.0000000Z\"}, {\"name\": \"Nebraska Supreme Court upholds restrictions on gender-affirming care, abortion\", \"url\": \"https:\\/\\/omaha.com\\/news\\/state-regional\\/crime-courts\\/nebraska-supreme-court-upholds-restrictions-on-gender-affirming-care-abortion\\/article_fcdac310-4ac8-11ef-a6dc-977c092d9ecb.html\", \"description\": \"The Nebraska Supreme Court on Friday issued a split decision affirming the constitutionality of a state law that bans abortions after 12 weeks gestation and restricts access to gender-affirming ...\", \"provider\": [{\"_type\": \"Organization\", \"name\": \"Omaha.com\"}], \"datePublished\": \"2024-07-26T00:00:00.0000000Z\"}, {\"name\": \"Nebraska quarterback Dylan Raiola asks fans to welcome No. 1 tackle to campus\", \"url\": \"https:\\/\\/cornhuskerswire.usatoday.com\\/lists\\/nebraska-to-host-no-1-tackle-on-campus-this-weekend\\/\", \"description\": \"The top offensive tackle in the class of 2025 will visit Nebraska this weekend. David Sanders Jr. will announce his commitment on August 17th. Sanders will decide between Georgia, Ohio State, Tennessee, and Nebraska. Steve Wiltfong of the On3 Network has ...\", \"provider\": [{\"_type\": \"Organization\", \"name\": \"cornhuskerswire.usatoday\"}], \"datePublished\": \"2024-07-25T23:14:00.0000000Z\"}, {\"name\": \"Common Lane, Hemingford Abbots\", \"url\": \"https:\\/\\/www.rightmove.co.uk\\/properties\\/150647255\", \"description\": \"Located in the highly desirable village of Hemingford Abbots in a quiet position set back from Common Lane, this attractive home offers approx. 1625 sq-ft internal space plus a double garage. The attention to detail throughout this home is evident with ...\", \"provider\": [{\"_type\": \"Organization\", \"name\": \"Rightmove\"}], \"datePublished\": \"2024-07-25T00:00:00.0000000Z\"}, {\"name\": \"Milestone as MNDAA Claims Capture of Myanmar Junta’s NE Command in Lashio\", \"url\": \"https:\\/\\/www.irrawaddy.com\\/news\\/burma\\/milestone-as-mndaa-claims-capture-of-myanmar-juntas-ne-command-in-lashio.html\", \"description\": \"The ethnic Myanmar National Democratic Alliance Army (MNDAA) and allied resistance groups claimed to have seized the junta military’s North Eastern Command headquarters in northern Shan State’s capital Lashio on Thursday morning. It is the first ...\", \"provider\": [{\"_type\": \"Organization\", \"name\": \"The Irrawaddy\"}], \"datePublished\": \"2024-07-25T00:00:00.0000000Z\"}]}";
        return prepareResponse(NEWS_HOST, NEWS_PATH, qParam, NEWS_API_URI_HEADERS, mockNews);
    }

}
